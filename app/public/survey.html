<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Friend Finder Survey</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="">
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <div class="jumbotron jumbotron-fluid">
            <div class="container">
            <h1 class="display-4">Survey Questions</h1>
            <p class="lead">Please respond to each statment according to your preference. Once you are complete, press submit and we will match you to some new friends. Please answer honestly for the highest level of accuracy.</p>
            </div>
        </div>

        <div class="container">
        <div class="form-group">
            <label for="exampleInputName">Name</label>
            <input type="name" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Enter name">
        </div>
        <div class="form-group">
            <label for="exampleInputName">Link to an image of you.</label>
            <input type="name" class="form-control" id="image" aria-describedby="emailHelp" placeholder="Image link">
        </div>
        <br>
        <h1>Survey</h1>
        <br>
        <div class="form-group">
            <label for="exampleFormControlSelect1">I love large parties.</label>
            <select class="form-control" id="one">
                <option value = 'undefined'></option>
                <option value = '1'>1 (Strongly Disagree)</option>
                <option value = '2'>2</option>
                <option value = '3'>3 (Neutral)</option>
                <option value = '4'>4</option>
                <option value = '5'>5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <label for="exampleFormControlSelect1">I love to solve complex problems.</label>
            <select class="form-control" id="two">
                <option value = 'undefined'></option>
                <option value = '1'>1 (Strongly Disagree)</option>
                <option value = '2'>2</option>
                <option value = '3'>3 (Neutral)</option>
                <option value = '4'>4</option>
                <option value = '5'>5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <label for="exampleFormControlSelect1">I would rather go to a concert than camping.</label>
            <select class="form-control" id="three">
                <option value = 'undefined'></option>
                <option value = '1'>1 (Strongly Disagree)</option>
                <option value = '2'>2</option>
                <option value = '3'>3 (Neutral)</option>
                <option value = '4'>4</option>
                <option value = '5'>5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <label for="exampleFormControlSelect1">Europe is overated.</label>
            <select class="form-control" id="four">
                <option value = 'undefined'></option>
                <option value = '1'>1 (Strongly Disagree)</option>
                <option value = '2'>2</option>
                <option value = '3'>3 (Neutral)</option>
                <option value = '4'>4</option>
                <option value = '5'>5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <label for="exampleFormControlSelect1">Beer is certainly more enjoyable than wine.</label>
            <select class="form-control" id="five">
                <option value = 'undefined'></option>
                <option value = '1'>1 (Strongly Disagree)</option>
                <option value = '2'>2</option>
                <option value = '3'>3 (Neutral)</option>
                <option value = '4'>4</option>
                <option value = '5'>5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <label for="exampleFormControlSelect1">Runing outside or any outdoors excersizing is better than indoor weight lifting or running.</label>
            <select class="form-control" id="six">
                <option value = 'undefined'></option>
                <option value = '1'>1 (Strongly Disagree)</option>
                <option value = '2'>2</option>
                <option value = '3'>3 (Neutral)</option>
                <option value = '4'>4</option>
                <option value = '5'>5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <label for="exampleFormControlSelect1">Going to be late is way better than getting up early.</label>
            <select class="form-control" id="seven">
                <option value = 'undefined'></option>
                <option value = '1'>1 (Strongly Disagree)</option>
                <option value = '2'>2</option>
                <option value = '3'>3 (Neutral)</option>
                <option value = '4'>4</option>
                <option value = '5'>5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <label for="exampleFormControlSelect1">Skiing over boarding bro.</label>
            <select class="form-control" id="eight">
                <option value = 'undefined'></option>
                <option value = '1'>1 (Strongly Disagree)</option>
                <option value = '2'>2</option>
                <option value = '3'>3 (Neutral)</option>
                <option value = '4'>4</option>
                <option value = '5'>5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <label for="exampleFormControlSelect1">The beach is the ideal vacation destination.</label>
            <select class="form-control" id="nine">
                <option value = 'undefined'></option>
                <option value = '1'>1 (Strongly Disagree)</option>
                <option value = '2'>2</option>
                <option value = '3'>3 (Neutral)</option>
                <option value = '4'>4</option>
                <option value = '5'>5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <label for="exampleFormControlSelect1">Cats are the ultimate pets.</label>
            <select class="form-control" id="ten">
                <option value = 'undefined'></option>
                <option value = '1'>1 (Strongly Disagree)</option>
                <option value = '2'>2</option>
                <option value = '3'>3 (Neutral)</option>
                <option value = '4'>4</option>
                <option value = '5'>5 (Strongly Agree)</option>
            </select>
        </div>
        <input id="enter" class="btn btn-primary" type="reset" value="Submit">
        <br>
        <br>
        </div>

        <div id="results"></div>

        <footer>
		<div class="containerfoot">
			<a href="/api/friends">Friends Finder API</a>
			<span>|</span>
			<a href="#">GitHub Repo</a>
            <br><br>
		</div>
	    </footer>
        
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery.js"></script>
        <script>

        
        $('#enter').on('click', function(){
            
        //console.log('hello');
        //Validation
        var proceed = true;

        if ($('#name').val() === ''  || $('#image').val() === '' || $('#one').val() === 'undefined' || $('#two').val() === 'undefined' || $('#three').val() === 'undefined' || $('#four').val() === 'undefined' || $('#five').val() === 'undefined' || $('#six').val() === 'undefined' || $('#seven').val() === 'undefined' || $('#eight').val() === 'undefined' || $('#nine').val() === 'undefined' || $('#ten').val() === 'undefined') {
            proceed = false;
            console.log('Please fill out all the questions');
        }
        

        if (proceed === true) {

            var questionNumbers = ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten'];
                var answers = [];

                for (var i = 0; i < 10; i++) {
                    var score = parseInt($('#' + questionNumbers[i]).val());
                    answers.push(score);
                    //console.log(answers);
                };

                var newFriend = {
                    name: $('#name').val().trim(),
                    photo: $('#image').val().trim(),
                    answers: answers
                };

                //console.log(newFriend)

                var currentURL = window.location.origin;

                $.post(currentURL + "/api/friends", newFriend, function(data){
                    //console.log(data); 
                    console.log(data.name);
                    console.log(data.photo);
                    $('.container').hide();
                    $('.jumbotron').hide();
                    $('#results').append('<h1>' + data.name + '</h1><br><br>').append('<img src=' + data.photo + '><br><br>');
                });
            }
            else {
                window.confirm('Please complete all feilds of the survey.')
            };
        });
        </script>
    </body>
</html>